{% extends 'base.html' %}

{% block titulo %}
    Criar receita
{% endblock %}

{% block body %}
    <form method="POST" action="">
        {{ form_criar_receita.csrf_token }}
        <legend>Criar receita</legend>
        <fieldset>
            {% for campo in form_criar_receita.ingredientes %}
                {{ campo }}
            {% endfor %}
            {{ form_criar_receita.calorias.label }}
            {{ form_criar_receita.calorias }}
        </fieldset>
        {{ form_criar_receita.botao_submit_criar_receita }}
    </form>

    <a href="{{ url_for('criar_receita', num_entradas=form_criar_receita.ingredientes.min_entries - 1) }}">-</a>
    <p>{{form_criar_receita.ingredientes.min_entries}} ingredientes</p>
    <a href="{{ url_for('criar_receita', num_entradas=form_criar_receita.ingredientes.min_entries + 1) }}">+</a>

    {% if receita %}
        <h1>{{ receita.nome_receita }}</h1>
        <p>{{ receita.calorias }} calorias</p>
        <h3>Ingredientes</h3>
        <ul>
            {% for ingrediente in receita.ingredientes %}
                <li>{{ ingrediente }}</li>
            {% endfor %}
        </ul>
        <h3>Modo de preparo</h3>
        <ol>
            {% for passo in receita.modo_preparo %}
                <li>{{ passo }}</li>
            {% endfor %}
        </ol>
        <h3>Rendimento</h3>
        <p>{{ receita.rendimento }}</p>
        <a href="{{ url_for('salvar_receita') }}">Salvar receita</a>
        <a href="{{ url_for('regerar_receita') }}">Gerar a receita novamente</a>
    {% endif %}
{% endblock %}